import"./disclose-version.Bg9kRutz.js";import{p as T,u as D,a as k,f as C,x as i,$ as G,z as f,n as L,s as P}from"./index-client.DDUn5bf5.js";import{c as q,a as j,t as B}from"./template.DXGbSFUO.js";import{c as z}from"./svelte-component.BQYC_p_3.js";import{T as g,s as E,ax as O,ay as Q,e as U,az as V,aA as N,I as R,u as F,V as I,L as H,Q as J}from"./T.6-q_PtqM.js";import{a as K}from"./auth.svelte.8Q3o_UP0.js";import"./index.B6sckYSE.js";import{a as h,s as W,r as X}from"./props.Hru3xw41.js";import{t as Y}from"./BufferGeometryUtils.qtj4nVgn.js";import"./legacy.CtaTdtmd.js";function Z(y,r){T(r,!0);let m=h(r,"args",19,()=>[]),n=h(r,"radius",3,.05),M=h(r,"smoothness",3,4),s=h(r,"creaseAngle",3,.4),u=h(r,"steps",3,1),l=h(r,"ref",15),d=X(r,["$$slots","$$events","$$legacy","args","radius","smoothness","creaseAngle","steps","ref","children"]);const a=1e-5,A=(e,t,o)=>{const c=new Q,S=o-a;return c.absarc(a,a,a,-Math.PI/2,-Math.PI,!0),c.absarc(a,t-S*2,a,Math.PI,Math.PI/2,!0),c.absarc(e-S*2,t-S*2,a,Math.PI/2,0,!0),c.absarc(e-S*2,a,a,0,-Math.PI/2,!0),c};let v=f(()=>m()[0]??1),b=f(()=>m()[1]??1),_=f(()=>m()[2]??1),x=f(()=>A(i(v),i(b),n())),w=f(()=>({depth:i(_)-n()*2,bevelEnabled:!0,bevelSegments:M()*2,steps:u(),bevelSize:n()-a,bevelThickness:n(),curveSegments:M()})),p=f(()=>new O(i(x),i(w)));D(()=>{i(p).center(),Y(i(p),s())}),g(y,W({get is(){return i(p)}},()=>d,{get ref(){return l()},set ref(e){l(e)},children:(e,t)=>{var o=q(),c=C(o);E(c,()=>r.children??G,()=>({ref:i(p)})),j(e,o)},$$slots:{default:!0}})),k()}var $=B("<!> <!> <!> <!>",1);function ee(y,r){T(r,!0);const{camera:m}=U(),n=1e3;new V;const M=new N,s=new R(void 0,M,n);s.name="cubes",s.frustumCulled=!1,s.castShadow=!0,s.receiveShadow=!0;const u=new I,l=new J,d=new I(1,1,1),a=new H,{frequencyData:A}=K();let v=n-1;L(()=>{for(let e=0;e<n;e+=1){const t=(Math.random()-.5)*5,o=t>0?2:-2,c=(Math.random()-.5)*10;u.set(t*2+o,c,-e/2),l.random(),a.compose(u,l,d),s.setMatrixAt(e,a)}s.instanceMatrix.needsUpdate=!0}),F(e=>{m.current.position.z-=e*20;for(let t=0;t<n;t+=1){s.getMatrixAt(t,a),a.decompose(u,l,d);const o=A.current[t%32];d.setScalar(Math.max(o/100,.5)),u.z>m.current.position.z&&(u.z=-v/2,v+=1),a.compose(u,l,d),s.setMatrixAt(t,a)}s.instanceMatrix.needsUpdate=!0});var b=$(),_=C(b);z(_,()=>g.PerspectiveCamera,(e,t)=>{t(e,{makeDefault:!0,position:[0,.5,5],oncreate:o=>o.lookAt(0,0,.1)})});var x=P(_,2);z(x,()=>g.DirectionalLight,(e,t)=>{t(e,{castShadow:!0})});var w=P(x,2);z(w,()=>g.AmbientLight,(e,t)=>{t(e,{})});var p=P(w,2);g(p,{is:s,children:(e,t)=>{Z(e,{})},$$slots:{default:!0}}),j(y,b),k()}const me=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"}));export{ee as _,me as a};
