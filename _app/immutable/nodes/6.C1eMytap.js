import{a as p,t as y,c as F}from"../chunks/disclose-version.CSeAfAtk.js";import{p as J,f as d,a as K,g as s,s as n,h as $}from"../chunks/runtime.BqyLU49m.js";import{e as N,i as Q}from"../chunks/each.BBth11kl.js";import{c as t}from"../chunks/svelte-component.P41FhjB0.js";import{p as R}from"../chunks/proxy.DeG3J3d5.js";import{s as U,a as V}from"../chunks/props.Dc-ArEpk.js";import{u as W,a as X,C as Y,T as o,b as Z}from"../chunks/analyser.WfzEoADr.js";import"../chunks/index.C_Hczehs.js";import"../chunks/legacy.U-anWqIC.js";import{O as ee}from"../chunks/Outlines.jd3wPMnB.js";import"../chunks/auth.svelte.Q9lrfs7o.js";import{h as re}from"../chunks/color.D7bleQK4.js";var te=y("<!> <!>",1),oe=y("<!> <!> <!>",1),ae=y("<!> <!> <!> <!> <!>",1);function _e(O,T){J(T,!0);const G=U(),L=()=>V(j,"$size",G),{size:j}=W(),{frequencyData:S}=Z(),l=16,u=1,z=l*u/2,f=R([]);for(let e=0;e<l;e++)for(let r=0;r<l;r++)f.push([e*u-z,r*u-z,0]);X(()=>{for(let e=0,r=S.current.length/2;e<r;e+=1){let a=S.current[e];f[e][2]=a/75}});const q=new Y("red");var M=ae(),b=d(M),B=$(()=>L().width/40);t(b,()=>o.OrthographicCamera,(e,r)=>{r(e,{makeDefault:!0,position:[-28,60,65],get zoom(){return s(B)},oncreate:a=>a.lookAt(0,0,0)})});var x=n(b,2);t(x,()=>o.AmbientLight,(e,r)=>{r(e,{intensity:.5})});var k=n(x,2);t(k,()=>o.DirectionalLight,(e,r)=>{r(e,{castShadow:!0,"shadow.camera.left":-15,"shadow.camera.right":15,"shadow.camera.top":15,"shadow.camera.bottom":-15,"shadow.mapSize.width":2048,"shadow.mapSize.height":2048,intensity:3,position:[10,10,10]})});var P=n(k,2);t(P,()=>o.Mesh,(e,r)=>{r(e,{"rotation.x":-Math.PI/2,"position.y":-.02,receiveShadow:!0,children:(a,g)=>{var c=te(),h=d(c);t(h,()=>o.PlaneGeometry,(i,m)=>{m(i,{args:[50,50]})});var v=n(h,2);t(v,()=>o.MeshStandardMaterial,(i,m)=>{m(i,{color:"white"})}),p(a,c)},$$slots:{default:!0}})});var H=n(P,2);N(H,17,()=>f,Q,(e,r,a)=>{var g=F(),c=d(g),h=$(()=>s(r)[2]*4+1);t(c,()=>o.Mesh,(v,i)=>{i(v,{get"position.x"(){return s(r)[0]},get"position.z"(){return s(r)[1]},get"position.y"(){return s(r)[2]},get"scale.y"(){return s(h)},castShadow:!0,receiveShadow:!0,children:(m,se)=>{var A=oe(),C=d(A);t(C,()=>o.BoxGeometry,(_,w)=>{w(_,{args:[.5,.5,.5]})});var D=n(C,2),I=$(()=>re(q,a/1e4));t(D,()=>o.MeshStandardMaterial,(_,w)=>{w(_,{get color(){return s(I)}})});var E=n(D,2);ee(E,{color:"black"}),p(m,A)},$$slots:{default:!0}})}),p(e,g)}),p(O,M),K()}export{_e as component};
