import{a as d,t as $,c as F}from"../chunks/disclose-version.CSeAfAtk.js";import{p as J,f as h,a as K,g as s,s as n,h as w}from"../chunks/runtime.BqyLU49m.js";import{e as N,i as Q}from"../chunks/each.BBth11kl.js";import{c as r}from"../chunks/svelte-component.P41FhjB0.js";import{p as R}from"../chunks/proxy.DeG3J3d5.js";import{s as U,a as V}from"../chunks/props.Dc-ArEpk.js";import{u as W,a as X,C as Y,T as t,b as Z}from"../chunks/analyser.WfzEoADr.js";import"../chunks/index.C_Hczehs.js";import"../chunks/legacy.U-anWqIC.js";import{O as ee}from"../chunks/Outlines.jd3wPMnB.js";import"../chunks/auth.svelte.Q9lrfs7o.js";import{h as oe}from"../chunks/color.D7bleQK4.js";var re=$("<!> <!>",1),te=$("<!> <!> <!>",1),ae=$("<!> <!> <!> <!> <!>",1);function _e(C,D){J(D,!0);const O=U(),T=()=>V(G,"$size",O),{size:G}=W(),{frequencyData:L}=Z(),l=48,y=1,q=l*y/2,u=R([]);for(let e=0;e<l;e++)u.push([0,e*y-q,0]);X(()=>{for(let e=0,o=l;e<o;e+=1){let a=L.current[e];u[e][2]=a/75}});const B=new Y("red");var S=ae(),z=h(S),H=w(()=>T().width/50);r(z,()=>t.OrthographicCamera,(e,o)=>{o(e,{makeDefault:!0,position:[-28,60,65],get zoom(){return s(H)},oncreate:a=>a.lookAt(0,0,0)})});var M=n(z,2);r(M,()=>t.AmbientLight,(e,o)=>{o(e,{intensity:.5})});var b=n(M,2);r(b,()=>t.DirectionalLight,(e,o)=>{o(e,{castShadow:!0,"shadow.camera.left":-15,"shadow.camera.right":15,"shadow.camera.top":15,"shadow.camera.bottom":-15,"shadow.mapSize.width":2048,"shadow.mapSize.height":2048,intensity:3,position:[10,10,10]})});var x=n(b,2);r(x,()=>t.Mesh,(e,o)=>{o(e,{"rotation.x":-Math.PI/2,"position.y":-.02,receiveShadow:!0,children:(a,f)=>{var c=re(),p=h(c);r(p,()=>t.PlaneGeometry,(i,m)=>{m(i,{args:[50,50]})});var g=n(p,2);r(g,()=>t.MeshStandardMaterial,(i,m)=>{m(i,{color:"white"})}),d(a,c)},$$slots:{default:!0}})});var I=n(x,2);N(I,17,()=>u,Q,(e,o,a)=>{var f=F(),c=h(f),p=w(()=>s(o)[2]*4+1);r(c,()=>t.Mesh,(g,i)=>{i(g,{get"position.x"(){return s(o)[0]},get"position.z"(){return s(o)[1]},get"position.y"(){return s(o)[2]},get"scale.y"(){return s(p)},castShadow:!0,receiveShadow:!0,children:(m,se)=>{var k=te(),P=h(k);r(P,()=>t.BoxGeometry,(v,_)=>{_(v,{args:[.5,.5,.5]})});var A=n(P,2),j=w(()=>oe(B,a/1e4));r(A,()=>t.MeshStandardMaterial,(v,_)=>{_(v,{get color(){return s(j)}})});var E=n(A,2);ee(E,{color:"black"}),d(m,k)},$$slots:{default:!0}})}),d(e,f)}),d(C,S),K()}export{_e as component};
