import{a as c,t as h}from"./disclose-version.hHKxC-Jk.js";import"./legacy.DAlpyf03.js";import{a0 as k,aQ as d,a2 as f,z as a,a1 as x,a3 as o,aR as v}from"./runtime.BZbTZrfI.js";import{i as C}from"./lifecycle.dIvfKtke.js";import{aC as L,M as j,h as A,aN as D}from"./three.module.iKKkBh6O.js";import{a as G,u as q,T as r}from"./T.DXVn7S3O.js";import"./index.fMZ61YjE.js";import{O as I}from"./OrbitControls.CRxDft4U.js";import{L as K}from"./Lightformer.d7WdcZAn.js";import{u as N}from"./analyser.svelte.98KYpyS5.js";import"./auth.svelte.C3nh3yTw.js";import{l as w}from"./MathUtils.DS64O8Kj.js";import{a as Q}from"./math.BF6GMVh4.js";import{vertexShader as R,fragmentShader as U}from"./shader.WnOi0MZ3.js";var B=h("<!> <!>",1),E=h("<!> <!>",1),F=h("<!> <!> <!> <!> <!>",1);function H(b,P){k(P,!1);const{scene:T}=G(),{frequencyData:m}=N(),p=d(new L),u=d(new j),_={time:{value:1}},z=new A({uniforms:_,vertexShader:R,fragmentShader:U}),n=d(new D);q(t=>{v(u,a(u).rotation.y+=t);const i=w(a(n).opacity,m.current[64]/50,t);v(n,a(n).opacity=Math.max(.1,i)),_.time.value+=t/3+m.current[32]/500;const e=Q(m.current[16],0,100);v(p,a(p).intensity=w(e*10,0,t/2))}),C();var g=F(),$=f(g);r.PerspectiveCamera($,{makeDefault:!0,"position.z":6,children:(t,i)=>{I(t,{})},$$slots:{default:!0}});var y=o($,2);r(y,{get is(){return a(p)},castShadow:!0,intensity:1e3,position:[4,3,2],oncreate:t=>{t.lookAt(0,0,0),T.add(t.target),t.target.position.set(0,0,0)}});var M=o(y,2);r(M,{get is(){return a(u)},castShadow:!0,receiveShadow:!0,children:(t,i)=>{var e=B(),s=f(e);r(s,{get is(){return a(n)},roughness:.1,metalness:1,transparent:!0});var l=o(s,2);r.TorusKnotGeometry(l,{args:[1,.4,256,64]}),c(t,e)},$$slots:{default:!0}});var S=o(M,2);r.Mesh(S,{"position.z":-1,children:(t,i)=>{var e=E(),s=f(e);r(s,{is:z});var l=o(s,2);r.PlaneGeometry(l,{args:[12,3]}),c(t,e)},$$slots:{default:!0}});var O=o(S,2);K(O,{}),c(b,g),x()}const mt=Object.freeze(Object.defineProperty({__proto__:null,default:H},Symbol.toStringTag,{value:"Module"}));export{H as _,mt as a};
