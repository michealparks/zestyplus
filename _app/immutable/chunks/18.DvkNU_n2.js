import{a as C,t as x}from"./disclose-version.dWtSGD-r.js";import{a0 as G,a2 as L,a1 as H,a3 as o,z as e,D as p,C as m}from"./runtime.liGrBqgh.js";import{c as R}from"./svelte-component.bmro9bRp.js";import{a as J,p as n,s as Q,r as U}from"./props.B9ZiqexT.js";import{u as K,T as f}from"./T.Bd7S2fO2.js";import P from"./Rope.CrkDO_L1.js";import"./index.BXAB9BT5.js";import{O as V}from"./OrbitControls.CVU0Ldfg.js";import"./legacy.C8Ez_6LP.js";import I from"./Skin.C8kETyCd.js";import{W as X}from"./World.DjNqWZTZ.js";import{c as Y}from"./createCollidersFromChildren.B-8rqJtL.js";import{a as Z}from"./index-client.jWRNFgTM.js";import{aP as tt,p as et,B as j}from"./three.module.iKKkBh6O.js";import{C as rt}from"./Collider.BGbyoF5h.js";var ot=x("<!> <!>",1);function st(A,y){G(y,!0);let g=J(y,"ref",27,()=>n(new tt)),_=U(y,["$$slots","$$events","$$legacy","ref"]);const{world:h,debug:c}=Y(),u=new et;c.set(!0),K(()=>{const a=h.debugRender(),d=new j(a.vertices,3),l=new j(a.colors,4);u.setAttribute("position",d),u.setAttribute("color",l)}),Z(()=>{c.set(!1)}),f(A,Q({get is(){return g()},frustumCulled:!1,renderOrder:1/0},()=>_,{children:(a,d)=>{var l=ot(),v=L(l);f(v,{is:u});var b=o(v,2);R(b,()=>f.LineBasicMaterial,($,B)=>{B($,{vertexColors:!0})}),C(a,l)},$$slots:{default:!0}})),H()}var it=x("<!> <!> <!> <!> <!> <!> <!>",1),nt=x("<!> <!> <!> <!>",1);function at(A,y){G(y,!0);let g=20,_=5,h=2,c=n([0,4,1]),u=m(void 0),a=m(void 0),d=m(void 0),l=m(void 0),v=m(void 0),b=m(void 0),$=m(void 0);setInterval(()=>{var r;Math.random()>.2&&((r=e(d))==null||r.applyImpulse({x:(Math.random()-.5)*.1,y:.1,z:(Math.random()-.5)*.1},!0))},100),K(()=>{var s,i;if(e(d)===void 0)return;const r=e(d).translation();(s=e(l))==null||s.setNextKinematicTranslation(r),(i=e(v))==null||i.setNextKinematicTranslation(r)});var B=nt(),w=L(B);R(w,()=>f.AmbientLight,(r,s)=>{s(r,{})});var D=o(w,2);R(D,()=>f.DirectionalLight,(r,s)=>{s(r,{position:[10,10,10]})});var M=o(D,2);R(M,()=>f.PerspectiveCamera,(r,s)=>{s(r,{makeDefault:!0,position:[0,0,20],oncreate:i=>i.lookAt(0,0,0),children:(i,S)=>{V(i,{})},$$slots:{default:!0}})});var N=o(M,2);X(N,{gravity:[0,-1,0],children:(r,s)=>{var i=it(),S=L(i);st(S,{});var O=o(S,2);P(O,{ballRadius:.1,ropeStart:[0,0,0],get ropeEnd(){return c},length:_,segments:g,damping:h,get positions(){return e(u)},set positions(t){p(u,n(t))},get lastRigidBody(){return e(d)},set lastRigidBody(t){p(d,n(t))}});var T=o(O,2);I(T,{radius:.3,segments:g,heightSegments:g*10,segmentHeight:_/g,get positions(){return e(u)}});var k=o(T,2);P(k,{ballRadius:.1,ropeStart:[0,0,0],get ropeEnd(){return c},length:3,segments:8,damping:h,get positions(){return e(a)},set positions(t){p(a,n(t))},get startRigidBody(){return e(l)},set startRigidBody(t){p(l,n(t))},get lastRigidBody(){return e(b)},set lastRigidBody(t){p(b,n(t))}});var E=o(k,2);I(E,{radius:.3,segments:8,heightSegments:8*10,segmentHeight:_/g,get positions(){return e(a)}});var z=o(E,2);P(z,{ballRadius:.1,ropeStart:[0,0,0],get ropeEnd(){return c},length:3,segments:8,damping:h,get startRigidBody(){return e(v)},set startRigidBody(t){p(v,n(t))},get lastRigidBody(){return e($)},set lastRigidBody(t){p($,n(t))}});var W=o(z,2);R(W,()=>f.Group,(t,q)=>{q(t,{position:[0,-2,0],children:(F,dt)=>{rt(F,{type:"static",shape:"cuboid",args:[10,2,10]})},$$slots:{default:!0}})}),C(r,i)},$$slots:{default:!0}}),C(A,B),H()}const At=Object.freeze(Object.defineProperty({__proto__:null,default:at},Symbol.toStringTag,{value:"Module"}));export{at as _,At as a};
