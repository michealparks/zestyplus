import{b as C,t as q}from"../chunks/disclose-version.CY5IDNoG.js";import"../chunks/legacy.PQa5ncrZ.js";import{p as Y,w as a,y as F,t as j,z as f,v as B,x as y,A as E}from"../chunks/runtime.XPaRurxh.js";import{e as J,i as K}from"../chunks/each.BoW94gwA.js";import{i as N}from"../chunks/lifecycle.CxaT9aiB.js";import{u as O,C as Q,V as A,a as W,T as i,b as c,c as Z}from"../chunks/T.y93Wq12a.js";import"../chunks/index.Cv2FY5Xh.js";import{u as $}from"../chunks/auth.svelte.CNkesG8U.js";import{h as tt}from"../chunks/color.D7bleQK4.js";import{L as at,a as ot,b as nt}from"../chunks/Line2.Bv398VxX.js";var et=q("<!> <!>",1),st=q("<!> <!> <!> <!>",1);function yt(x,k){Y(k,!1);const{camera:v}=O(),z=200,o=B([]),h=1,S=c.randInt(2,3),g=c.randFloat(5,6),d=c.randFloat(2,10),T=c.randFloat(2,3),D=c.randFloat(2,3),I=c.randFloat(.5,2),_=2e3,V=new Q("red").setHSL(Math.random(),.5,.5);for(let t=0;t<z;t+=1){const e=new A(Math.random()*h,Math.random()*h,Math.random()*h),s=[];for(let r=0;r<_;r+=1){const n=r/_*Math.PI*2*S,b=Math.sin(n*T)*(g+d*Math.sin(n)),m=Math.cos(n*D)*(g+d*Math.cos(n)),u=d*Math.sin(n*I);s.push(new A(b,m,u))}const l=new at;a(o).push({line:l,points:s,shift:e,opacity:0,animating:!1})}const G=$();let p=0;const H=()=>{var s;const e=new Z((s=a(o).at(0))==null?void 0:s.points).getPointAt(p);v.current.position.copy(e),v.current.lookAt(0,0,0),p+=1e-4,p>1&&(p=0)};W(()=>{for(let t=0,e=a(o).length;t<e;t+=1){const{line:s,opacity:l,animating:r}=a(o)[t];r&&l>0?y(o,a(o)[t].opacity-=.005):G.frequencyData.current[t]>100&&(y(o,a(o)[t].opacity=.4),y(o,a(o)[t].animating=!0)),s.material.opacity=a(o)[t].opacity}H()}),N();var M=st(),w=F(M);i.PerspectiveCamera(w,{makeDefault:!0,"position.z":20});var L=f(w,2);i.AmbientLight(L,{intensity:.6});var P=f(L,2);i.PointLight(P,{intensity:1,position:[10,10,10]});var R=f(P,2);J(R,1,()=>a(o),K,(t,e)=>{let s=()=>a(e).line,l=()=>a(e).shift,r=()=>a(e).points;i(t,{get is(){return s()},oncreate:n=>{n.position.copy(l()),n.geometry.setFromPoints(r())},children:(n,b)=>{var m=et(),u=F(m);i(u,{is:ot});var U=f(u,2),X=E(()=>tt(V,.0025));i(U,{is:nt,transparent:!0,get color(){return a(X)}}),C(n,m)},$$slots:{default:!0}})}),C(x,M),j()}export{yt as component};
