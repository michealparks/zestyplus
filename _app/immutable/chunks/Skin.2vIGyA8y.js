import{b as S,t as v}from"./disclose-version.n6tle2S8.js";import{B as H,a8 as x,D as A,a9 as M}from"./runtime.D2gsQGmM.js";import{c as _}from"./svelte-component.BpbQeOAZ.js";import{c as D,d as I,e as W,V as F,U as T,F as U,f as w,D as V}from"./three.module.iKKkBh6O.js";import{u as j,T as f}from"./T.CjKvhq6h.js";const C=(m,e,d)=>{const o=[];let n=new w;o.push(n),n.position.y=-m;for(let a=0;a<e;a++){const s=new w;s.position.y=d,o.push(s),n.add(s),n=s}return o};var G=v("<!> <!>",1);function K(m,e){H(e,!0);const d=e.segmentHeight*e.segments,o=d*.5,n=C(o,e.segments,e.segmentHeight),a=new D,s=new I(n);a.add(n[0]),a.bind(s);const c=new W(e.radius,e.radius,d,e.radialSegments,e.heightSegments,!0),g=[],l=[],{position:b}=c.attributes,k=new F;for(let t=0,r;t<b.count;t++){k.fromBufferAttribute(b,t);const i=k.y+o,u=Math.floor(i/e.segmentHeight),h=i%e.segmentHeight/e.segmentHeight;g.push(u,u+1,0,0),l.push(1-h,h,0,0)}c.setAttribute("skinIndex",new T(g,4)),c.setAttribute("skinWeight",new U(l,4)),j(()=>{if(e.positions!==void 0)for(let t=0,r=0,i=n.length;t<i;t+=1,r+=3)s.bones[t].position.set(e.positions[r+0],e.positions[r+1],e.positions[r+2]),s.bones[t].rotation.x=.2}),f(m,{is:a,children:(t,r)=>{var i=G(),u=x(i);f(u,{is:c});var h=M(u,2);_(h,()=>f.MeshStandardMaterial,(y,B)=>{B(y,{side:V})}),S(t,i)},$$slots:{default:!0}}),A()}export{K as default};
