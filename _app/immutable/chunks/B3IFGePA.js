import"./DsnmJJEf.js";import{Z as E,u as P,$ as k,a0 as S,a3 as c,a1 as z,a2 as F,h as J,_ as K}from"./E4cMcrld.js";import{c as m}from"./B2tXmoWB.js";import{s as A,b as W}from"./DdtPJMXq.js";import{P as X,d as Y}from"./DwjUp6gR.js";import{C as ee}from"./DWxuWMRQ.js";import{g0 as C,fZ as T,a as te,V as j,M as oe,ed as se,f_ as n,bg as ae}from"./CpNDQYbB.js";import{a as re}from"./CiTjjYL-.js";import{h as ne}from"./D7bleQK4.js";import{R as ie}from"./5tgx7nEG.js";var ce=k("<!> <!>",1),de=k("<!> <!> <!> <!> <!>",1);function me(O,U){E(U,!0);const D=()=>A(Z,"$camera",f),L=()=>A(q,"$size",f),[f,N]=W(),{renderer:R,scene:V,camera:Z,renderMode:h}=C(),g=new X(R);P(()=>{g.outputNode=ee(V,D())}),P(()=>(h.set("manual"),()=>h.set("always"))),T(()=>{g.render()});const{size:q}=C(),_=re(),i=20,l=1,w=i*l/2,B=new te("red"),a=new j,v=new ae,p=new j(1,1,1),r=new oe,o=new se(void 0,void 0,i*i);let u=0;for(let e=0;e<i;e+=1)for(let t=0;t<i;t+=1)a.set(e*l-w,0,t*l-w),r.setPosition(a),o.setMatrixAt(u,r),o.setColorAt(u,ne(B,e*t/1e4)),u+=1;o.instanceMatrix.needsUpdate=!0,o.instanceColor&&(o.instanceColor.needsUpdate=!0),T(()=>{for(let e=0,t=_.log01.length;e<t;e+=1){const s=_.log01[e];s&&(o.getMatrixAt(e,r),r.decompose(a,v,p),a.y=s*10,p.set(1,a.y*4+1,1),r.compose(a,v,p),o.setMatrixAt(e,r))}o.instanceMatrix.needsUpdate=!0});var $=de(),M=S($);{let e=K(()=>L().width/400);m(M,()=>n.PerspectiveCamera,(t,s)=>{s(t,{makeDefault:!0,position:[-28,60,65],get zoom(){return J(e)},oncreate:d=>d.lookAt(0,0,0)})})}var x=c(M,2);m(x,()=>n.AmbientLight,(e,t)=>{t(e,{intensity:.5})});var y=c(x,2);m(y,()=>n.DirectionalLight,(e,t)=>{t(e,{castShadow:!0,"shadow.camera.left":-15,"shadow.camera.right":15,"shadow.camera.top":15,"shadow.camera.bottom":-15,"shadow.mapSize.width":2048,"shadow.mapSize.height":2048,intensity:3,position:[10,10,10]})});var b=c(y,2);n(b,{get is(){return o},castShadow:!0,receiveShadow:!0,children:(e,t)=>{var s=ce(),d=S(s);m(d,()=>n.BoxGeometry,(I,Q)=>{Q(I,{args:[.5,.5,.5]})});var H=c(d,2);n(H,{get is(){return Y}}),z(e,s)},$$slots:{default:!0}});var G=c(b,2);ie(G,{}),z(O,$),F(),N()}const Me=Object.freeze(Object.defineProperty({__proto__:null,default:me},Symbol.toStringTag,{value:"Module"}));export{me as _,Me as a};
