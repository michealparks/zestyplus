import{ax as A,f as B,y as T,_ as D,d as R,ay as v,U as S,az as q,ac as C,aA as g,aB as b,aC as L,ai as N,q as m,R as O,Y as d,S as P,m as w,t as k,aD as W,v as z,h as E,M as F,n as G,G as U,aE as Y,aF as j,ab as H,a2 as I,F as J}from"./B1dEFQYF.js";function ee(t){let e=0,i=T(0),s;return()=>{A()&&(B(i),D(()=>(e===0&&(s=R(()=>t(()=>v(i)))),e+=1,()=>{S(()=>{e-=1,e===0&&(s?.(),s=void 0,v(i))})})))}}const K=new Set,Q=new Set;function V(t,e,i,s={}){function r(a){if(s.capture||X.call(e,a),!a.cancelBubble)return q(()=>i?.call(this,a))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?S(()=>{e.addEventListener(t,r,s)}):e.addEventListener(t,r,s),r}function te(t,e,i,s={}){var r=V(e,t,i,s);return()=>{t.removeEventListener(e,r,s)}}function ae(t){for(var e=0;e<t.length;e++)K.add(t[e]);for(var i of Q)i(t)}let y=null;function X(t){var e=this,i=e.ownerDocument,s=t.type,r=t.composedPath?.()||[],a=r[0]||t.target;y=t;var n=0,c=y===t&&t.__root;if(c){var f=r.indexOf(c);if(f!==-1&&(e===document||e===window)){t.__root=e;return}var o=r.indexOf(e);if(o===-1)return;f<=o&&(n=f)}if(a=r[n]||t.target,a!==e){C(t,"currentTarget",{configurable:!0,get(){return a||i}});var M=L,x=N;g(null),b(null);try{for(var h,_=[];a!==null;){var u=a.assignedSlot||a.parentNode||a.host||null;try{var p=a["__"+s];p!=null&&(!a.disabled||t.target===a)&&p.call(a,t)}catch(l){h?_.push(l):h=l}if(t.cancelBubble||u===e||u===null)break;a=u}if(h){for(let l of _)queueMicrotask(()=>{throw l});throw h}}finally{t.__root=e,delete t.currentTarget,g(M),b(x)}}}class Z{anchor;#t=new Map;#a=new Map;#e=new Map;#s=new Set;#r=!0;constructor(e,i=!0){this.anchor=e,this.#r=i}#i=()=>{var e=m;if(this.#t.has(e)){var i=this.#t.get(e),s=this.#a.get(i);if(s)O(s),this.#s.delete(i);else{var r=this.#e.get(i);r&&(this.#a.set(i,r.effect),this.#e.delete(i),r.fragment.lastChild.remove(),this.anchor.before(r.fragment),s=r.effect)}for(const[a,n]of this.#t){if(this.#t.delete(a),a===e)break;const c=this.#e.get(n);c&&(d(c.effect),this.#e.delete(n))}for(const[a,n]of this.#a){if(a===i||this.#s.has(a))continue;const c=()=>{if(Array.from(this.#t.values()).includes(a)){var o=document.createDocumentFragment();W(n,o),o.append(w()),this.#e.set(a,{effect:n,fragment:o})}else d(n);this.#s.delete(a),this.#a.delete(a)};this.#r||!s?(this.#s.add(a),P(n,c,!1)):c()}}};#n=e=>{this.#t.delete(e);const i=Array.from(this.#t.values());for(const[s,r]of this.#e)i.includes(s)||(d(r.effect),this.#e.delete(s))};ensure(e,i){var s=m,r=z();if(i&&!this.#a.has(e)&&!this.#e.has(e))if(r){var a=document.createDocumentFragment(),n=w();a.append(n),this.#e.set(e,{effect:k(()=>i(n)),fragment:a})}else this.#a.set(e,k(()=>i(this.anchor)));if(this.#t.set(s,e),r){for(const[c,f]of this.#a)c===e?s.skipped_effects.delete(f):s.skipped_effects.add(f);for(const[c,f]of this.#e)c===e?s.skipped_effects.delete(f.effect):s.skipped_effects.add(f.effect);s.oncommit(this.#i),s.ondiscard(this.#n)}else E&&(this.anchor=F),this.#i()}}function se(t,e,...i){var s=new Z(t);G(()=>{const r=e()??null;s.ensure(r,r&&(a=>r(a,...i)))},I)}function re(t){return(e,...i)=>{var s=t(...i),r;if(E)r=F,U();else{var a=s.render().trim(),n=Y(a);r=J(n),e.before(r)}const c=s.setup?.(r);j(r,r),typeof c=="function"&&H(c)}}export{Z as B,K as a,re as b,ee as c,ae as d,X as h,te as o,Q as r,se as s};
