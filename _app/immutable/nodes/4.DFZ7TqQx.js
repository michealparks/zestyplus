import{a as C,t as D}from"../chunks/disclose-version.CSeAfAtk.js";import"../chunks/legacy.U-anWqIC.js";import{p as T,m as q,i as p,g as a,f as B,a as I,s as u}from"../chunks/runtime.BqyLU49m.js";import{i as L}from"../chunks/lifecycle.CWEQKXie.js";import{u as Q,B as S,M as U,I as V,a as j,T as m,V as g,Q as G,c as P,b as E}from"../chunks/analyser.WfzEoADr.js";import"../chunks/auth.svelte.Q9lrfs7o.js";import"../chunks/index.C_Hczehs.js";var F=D("<!> <!> <!> <!>",1);function X(v,w){T(w,!1);const{camera:d}=Q(),o=1e3,b=new S,A=new U,e=q(new V(b,A,o));p(e,a(e).frustumCulled=!1);const s=new g,r=new G,i=new g(1,1,1),n=new P,{frequencyData:_}=E();let l=o-1;for(let t=0;t<o;t+=1){const c=(Math.random()-.5)*5,z=c>0?2:-2,k=(Math.random()-.5)*10;s.set(c*2+z,k,-t/2),r.random(),n.compose(s,r,i),a(e).setMatrixAt(t,n),p(e,a(e).instanceMatrix.needsUpdate=!0)}j(()=>{d.current.position.z-=.1;for(let t=0;t<o;t+=1){a(e).getMatrixAt(t,n),n.decompose(s,r,i);const c=_.current[t%32];i.setScalar(Math.max(c/100,.5)),s.z>d.current.position.z&&(s.z=-l/2,l+=1),n.compose(s,r,i),a(e).setMatrixAt(t,n)}p(e,a(e).instanceMatrix.needsUpdate=!0)}),L();var f=F(),M=B(f);m.PerspectiveCamera(M,{makeDefault:!0,position:[0,0,5],oncreate:t=>t.lookAt(0,0,0)});var x=u(M,2);m.DirectionalLight(x,{});var h=u(x,2);m.AmbientLight(h,{});var y=u(h,2);m(y,{get is(){return a(e)}}),C(v,f),I()}export{X as component};
