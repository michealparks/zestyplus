import{a5 as d,b as i,a6 as c,i as t}from"./index-client.CAJtLLOW.js";import{a as f}from"./props.BHX9ZFdi.js";import"./disclose-version.Bg9kRutz.js";import{u as v,o as m}from"./T.Dho_lh33.js";const l=e=>{const{invalidate:r}=v();m(()=>[e.scene],([n])=>{const o=n.background,s=n.environment;return()=>{n.background=o,n.environment=s}});let u=c(void 0),a=c(void 0);m(()=>[e.scene],([n])=>{d(u,f(n.background)),d(a,f(n.environment))}),i(()=>{if(e.isBackground&&e.texture!==void 0)return e.scene.background=e.texture,r(),()=>{t(u)!==void 0&&(e.scene.background=t(u),r())}}),i(()=>{if(e.texture!==void 0)return e.scene.environment=e.texture,r(),()=>{t(a)!==void 0&&(e.scene.environment=t(a),r())}})};export{l as u};
