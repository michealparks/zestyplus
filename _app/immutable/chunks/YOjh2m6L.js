import"./DsnmJJEf.js";import{a3 as N,a1 as R,a5 as T,a6 as b,a7 as A,a8 as U,a9 as f,a0 as X,f as r,a4 as Y}from"./B1dEFQYF.js";import{e as Z}from"./CKUK-ICo.js";import{c as y}from"./FGFIUSKv.js";import{L as B}from"./DCxBLCJT.js";import{L as E,a as J}from"./BQsg2DOS.js";import{f$ as K,A as i,a as Q,V as C,fZ as W,f_ as c,du as tt}from"./52RvQVlY.js";import{u as at}from"./D3ZiMuZZ.js";import{h as ot}from"./D7bleQK4.js";var et=T("<!> <!>",1),nt=T("<!> <!> <!> <!>",1);function st(k,z){N(z,!0);const{camera:_}=K(),$=200,e=[],d=1,j=i.randInt(2,3),v=i.randFloat(5,6),h=i.randFloat(2,10),q=i.randFloat(2,3),x=i.randFloat(2,3),H=i.randFloat(.5,2),M=2e3;let g=R(new Q("red").setHSL(Math.random(),.8,.5));for(let a=0;a<$;a+=1){const t=new C(Math.random()*d,Math.random()*d,Math.random()*d),n=[];for(let s=0;s<M;s+=1){const o=s/M*Math.PI*2*j,S=Math.sin(o*q)*(v+h*Math.sin(o)),m=Math.cos(o*x)*(v+h*Math.cos(o)),u=h*Math.sin(o*H);n.push(new C(S,m,u))}const l=new E;e.push({line:l,points:n,shift:t,opacity:0,animating:!1})}const I=at();let p=0;const O=()=>{const t=new tt(e.at(0)?.points).getPointAt(p);_.current.position.copy(t),_.current.lookAt(0,0,0),p+=1e-4,p>1&&(p=0)};W(()=>{let a=0;for(let t=0,n=e.length;t<n;t+=1){const{line:l,opacity:s,animating:o}=e[t];o&&s>0?e[t].opacity-=.005:I.spectrum01[t%128]>.2&&(e[t].opacity=.4,e[t].animating=!0,a+=1),l.material.opacity=e[t].opacity}a>=10&&X(g,r(g).setHSL(Math.random(),.8,.5)),O()});var L=nt(),P=b(L);y(P,()=>c.PerspectiveCamera,(a,t)=>{t(a,{makeDefault:!0,"position.z":20})});var w=f(P,2);y(w,()=>c.AmbientLight,(a,t)=>{t(a,{intensity:.6})});var F=f(w,2);y(F,()=>c.PointLight,(a,t)=>{t(a,{intensity:1,position:[10,10,10]})});var V=f(F,2);Z(V,17,()=>e,({line:a,shift:t,points:n})=>a.uuid,(a,t)=>{let n=()=>r(t).line,l=()=>r(t).shift,s=()=>r(t).points;c(a,{get is(){return n()},oncreate:o=>{o.position.copy(l()),o.geometry.setFromPoints(s())},children:(o,S)=>{var m=et(),u=b(m);c(u,{get is(){return J}});var D=f(u,2);{let G=Y(()=>ot(r(g),.01));c(D,{get is(){return B},transparent:!0,get color(){return r(G)}})}A(o,m)},$$slots:{default:!0}})}),A(k,L),U()}const ht=Object.freeze(Object.defineProperty({__proto__:null,default:st},Symbol.toStringTag,{value:"Module"}));export{st as _,ht as a};
