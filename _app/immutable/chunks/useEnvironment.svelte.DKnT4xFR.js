import{a2 as d,d as c,a3 as f,k as t}from"./index-client.D_7LkImg.js";import{a as i}from"./props.BhoiTsxR.js";import"./disclose-version.Bg9kRutz.js";import{u as v,o as m}from"./T.po24HVTg.js";const l=e=>{const{invalidate:r}=v();m(()=>[e.scene],([n])=>{const o=n.background,s=n.environment;return()=>{n.background=o,n.environment=s}});let u=f(void 0),a=f(void 0);m(()=>[e.scene],([n])=>{d(u,i(n.background)),d(a,i(n.environment))}),c(()=>{if(e.isBackground&&e.texture!==void 0)return e.scene.background=e.texture,r(),()=>{t(u)!==void 0&&(e.scene.background=t(u),r())}}),c(()=>{if(e.texture!==void 0)return e.scene.environment=e.texture,r(),()=>{t(a)!==void 0&&(e.scene.environment=t(a),r())}})};export{l as u};
