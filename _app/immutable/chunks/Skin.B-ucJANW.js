import"./disclose-version.Bg9kRutz.js";import{p as v,f as B,a as H,s as x}from"./index-client.DzQlphmH.js";import{a as A,t as M}from"./template.CgCchT00.js";import{c as _}from"./svelte-component.D0WKzo0g.js";import{e as I,f as W,g as D,V as F,U as T,F as U,u as V,d as g,h as w,D as j}from"./T.D9_Xg1XW.js";const C=(f,e,d)=>{const o=[];let n=new w;o.push(n),n.position.y=-f;for(let a=0;a<e;a++){const s=new w;s.position.y=d,o.push(s),n.add(s),n=s}return o};var G=M("<!> <!>",1);function K(f,e){v(e,!0);const d=e.segmentHeight*e.segments,o=d*.5,n=C(o,e.segments,e.segmentHeight),a=new I,s=new W(n);a.add(n[0]),a.bind(s);const h=new D(e.radius,e.radius,d,e.radialSegments,e.heightSegments,!0),m=[],l=[],{position:b}=h.attributes,k=new F;for(let t=0,r;t<b.count;t++){k.fromBufferAttribute(b,t);const i=k.y+o,u=Math.floor(i/e.segmentHeight),c=i%e.segmentHeight/e.segmentHeight;m.push(u,u+1,0,0),l.push(1-c,c,0,0)}h.setAttribute("skinIndex",new T(m,4)),h.setAttribute("skinWeight",new U(l,4)),V(()=>{if(e.positions!==void 0)for(let t=0,r=0,i=n.length;t<i;t+=1,r+=3)s.bones[t].position.set(e.positions[r+0],e.positions[r+1],e.positions[r+2]),s.bones[t].rotation.x=.2}),g(f,{is:a,children:(t,r)=>{var i=G(),u=B(i);g(u,{is:h});var c=x(u,2);_(c,()=>g.MeshStandardMaterial,(y,S)=>{S(y,{side:j})}),A(t,i)},$$slots:{default:!0}}),H()}export{K as default};
