import{b as L,t as x}from"./disclose-version.DxMWfzFv.js";import{w as G,a6 as w,y as H,a7 as o,Q as e,ab as p,aa as m}from"./runtime.TNfRlsGO.js";import{c as b}from"./svelte-component.B5dtG_Db.js";import{p as F,a as n,s as J,r as U}from"./props.J8c_Vd-h.js";import{u as K,T as f}from"./T.5NVhIH70.js";import P from"./Rope.DNVI3Yae.js";import"./index.DSYcLGFw.js";import{O as V}from"./OrbitControls.B4_1P_ze.js";import"./legacy.DWt5lqJy.js";import j from"./Skin.C4B1GGnp.js";import{W as X}from"./World.CA8vHRkg.js";import{c as Y}from"./createCollidersFromChildren.By8NmhRW.js";import{a as Z}from"./index-client.BdRbtj4S.js";import{aP as tt,p as et,B as z}from"./three.module.iKKkBh6O.js";import{C as rt}from"./Collider.B1-INJvt.js";var ot=x("<!> <!>",1);function st(A,v){G(v,!0);let g=F(v,"ref",27,()=>n(new tt)),_=U(v,["$$slots","$$events","$$legacy","ref"]);const{world:h,debug:c}=Y(),u=new et;c.set(!0),K(()=>{const a=h.debugRender(),d=new z(a.vertices,3),l=new z(a.colors,4);u.setAttribute("position",d),u.setAttribute("color",l)}),Z(()=>{c.set(!1)}),f(A,J({get is(){return g()},frustumCulled:!1,renderOrder:1/0},()=>_,{children:(a,d)=>{var l=ot(),y=w(l);f(y,{is:u});var R=o(y,2);b(R,()=>f.LineBasicMaterial,($,B)=>{B($,{vertexColors:!0})}),L(a,l)},$$slots:{default:!0}})),H()}var it=x("<!> <!> <!> <!> <!> <!> <!>",1),nt=x("<!> <!> <!> <!>",1);function at(A,v){G(v,!0);let g=20,_=5,h=2,c=n([0,4,1]),u=m(void 0),a=m(void 0),d=m(void 0),l=m(void 0),y=m(void 0),R=m(void 0),$=m(void 0);setInterval(()=>{var r;Math.random()>.2&&((r=e(d))==null||r.applyImpulse({x:(Math.random()-.5)*.1,y:.1,z:(Math.random()-.5)*.1},!0))},100),K(()=>{var s,i;if(e(d)===void 0)return;const r=e(d).translation();(s=e(l))==null||s.setNextKinematicTranslation(r),(i=e(y))==null||i.setNextKinematicTranslation(r)});var B=nt(),C=w(B);b(C,()=>f.AmbientLight,(r,s)=>{s(r,{})});var M=o(C,2);b(M,()=>f.DirectionalLight,(r,s)=>{s(r,{position:[10,10,10]})});var O=o(M,2);b(O,()=>f.PerspectiveCamera,(r,s)=>{s(r,{makeDefault:!0,position:[0,0,20],oncreate:i=>i.lookAt(0,0,0),children:(i,S)=>{V(i,{})},$$slots:{default:!0}})});var N=o(O,2);X(N,{gravity:[0,-1,0],children:(r,s)=>{var i=it(),S=w(i);st(S,{});var T=o(S,2);P(T,{ballRadius:.1,ropeStart:[0,0,0],get ropeEnd(){return c},length:_,segments:g,damping:h,get positions(){return e(u)},set positions(t){p(u,n(t))},get lastRigidBody(){return e(d)},set lastRigidBody(t){p(d,n(t))}});var k=o(T,2);j(k,{radius:.3,segments:g,heightSegments:g*10,segmentHeight:_/g,get positions(){return e(u)}});var D=o(k,2);P(D,{ballRadius:.1,ropeStart:[0,0,0],get ropeEnd(){return c},length:3,segments:8,damping:h,get positions(){return e(a)},set positions(t){p(a,n(t))},get startRigidBody(){return e(l)},set startRigidBody(t){p(l,n(t))},get lastRigidBody(){return e(R)},set lastRigidBody(t){p(R,n(t))}});var E=o(D,2);j(E,{radius:.3,segments:8,heightSegments:8*10,segmentHeight:_/g,get positions(){return e(a)}});var I=o(E,2);P(I,{ballRadius:.1,ropeStart:[0,0,0],get ropeEnd(){return c},length:3,segments:8,damping:h,get startRigidBody(){return e(y)},set startRigidBody(t){p(y,n(t))},get lastRigidBody(){return e($)},set lastRigidBody(t){p($,n(t))}});var W=o(I,2);b(W,()=>f.Group,(t,Q)=>{Q(t,{position:[0,-2,0],children:(q,dt)=>{rt(q,{type:"static",shape:"cuboid",args:[10,2,10]})},$$slots:{default:!0}})}),L(r,i)},$$slots:{default:!0}}),L(A,B),H()}const At=Object.freeze(Object.defineProperty({__proto__:null,default:at},Symbol.toStringTag,{value:"Module"}));export{at as _,At as a};
