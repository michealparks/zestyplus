import{a as c,t as h}from"./disclose-version.dWtSGD-r.js";import"./legacy.C8Ez_6LP.js";import{a0 as k,aP as d,a2 as f,z as a,a1 as x,a3 as o,aQ as v}from"./runtime.liGrBqgh.js";import{i as C}from"./lifecycle.BmG2I5-Y.js";import{aC as L,M as j,h as A,aN as D}from"./three.module.iKKkBh6O.js";import{a as G,u as q,T as r}from"./T.Bd7S2fO2.js";import"./index.BXAB9BT5.js";import{O as I}from"./OrbitControls.CVU0Ldfg.js";import{L as K}from"./Lightformer.JtosBAhS.js";import{u as N}from"./analyser.svelte.CzcSvk9D.js";import"./auth.svelte.CGUMTyGk.js";import{l as w}from"./MathUtils.DS64O8Kj.js";import{a as Q}from"./math.BF6GMVh4.js";import{vertexShader as U,fragmentShader as B}from"./shader.WnOi0MZ3.js";var E=h("<!> <!>",1),F=h("<!> <!>",1),H=h("<!> <!> <!> <!> <!>",1);function J(P,b){k(b,!1);const{scene:T}=G(),{frequencyData:m}=N(),p=d(new L),u=d(new j),_={time:{value:1}},z=new A({uniforms:_,vertexShader:U,fragmentShader:B}),n=d(new D);q(t=>{v(u,a(u).rotation.y+=t);const i=w(a(n).opacity,m.current[64]/50,t);v(n,a(n).opacity=Math.max(.1,i)),_.time.value+=t/3+m.current[32]/500;const e=Q(m.current[16],0,100);v(p,a(p).intensity=w(e*10,0,t/2))}),C();var g=H(),$=f(g);r.PerspectiveCamera($,{makeDefault:!0,"position.z":6,children:(t,i)=>{I(t,{})},$$slots:{default:!0}});var y=o($,2);r(y,{get is(){return a(p)},castShadow:!0,intensity:1e3,position:[4,3,2],oncreate:t=>{t.lookAt(0,0,0),T.add(t.target),t.target.position.set(0,0,0)}});var M=o(y,2);r(M,{get is(){return a(u)},castShadow:!0,receiveShadow:!0,children:(t,i)=>{var e=E(),s=f(e);r(s,{get is(){return a(n)},roughness:.1,metalness:1,transparent:!0});var l=o(s,2);r.TorusKnotGeometry(l,{args:[1,.4,256,64]}),c(t,e)},$$slots:{default:!0}});var S=o(M,2);r.Mesh(S,{"position.z":-1,children:(t,i)=>{var e=F(),s=f(e);r(s,{is:z});var l=o(s,2);r.PlaneGeometry(l,{args:[12,3]}),c(t,e)},$$slots:{default:!0}});var O=o(S,2);K(O,{}),c(P,g),x()}const mt=Object.freeze(Object.defineProperty({__proto__:null,default:J},Symbol.toStringTag,{value:"Module"}));export{J as _,mt as a};
