import{a as C,t as k}from"./disclose-version.dWtSGD-r.js";import"./legacy.C8Ez_6LP.js";import{a0 as R,z as a,a2 as F,a1 as U,a3 as f,aP as X,aQ as y,at as Y}from"./runtime.liGrBqgh.js";import{e as $,i as B}from"./each.DIW0GBHS.js";import{i as E}from"./lifecycle.BmG2I5-Y.js";import{C as J,V as S,k as i,t as K}from"./three.module.iKKkBh6O.js";import{a as N,u as W,T as c}from"./T.Bd7S2fO2.js";import"./index.BXAB9BT5.js";import{u as Z}from"./analyser.svelte.CzcSvk9D.js";import"./auth.svelte.CGUMTyGk.js";import{h as tt}from"./color.D7bleQK4.js";import{L as at,a as ot,b as et}from"./Line2.lc89Enda.js";var nt=k("<!> <!>",1),st=k("<!> <!> <!> <!>",1);function rt(q,z){R(z,!1);const{camera:g}=N(),A=200,o=X([]),d=1,T=i.randInt(2,3),_=i.randFloat(5,6),h=i.randFloat(2,10),x=i.randFloat(2,3),j=i.randFloat(2,3),D=i.randFloat(.5,2),v=2e3,I=new J("red").setHSL(Math.random(),.5,.5);for(let t=0;t<A;t+=1){const n=new S(Math.random()*d,Math.random()*d,Math.random()*d),s=[];for(let r=0;r<v;r+=1){const e=r/v*Math.PI*2*T,w=Math.sin(e*x)*(_+h*Math.sin(e)),m=Math.cos(e*j)*(_+h*Math.cos(e)),u=h*Math.sin(e*D);s.push(new S(w,m,u))}const l=new at;a(o).push({line:l,points:s,shift:n,opacity:0,animating:!1})}const O=Z();let p=0;const V=()=>{var s;const n=new K((s=a(o).at(0))==null?void 0:s.points).getPointAt(p);g.current.position.copy(n),g.current.lookAt(0,0,0),p+=1e-4,p>1&&(p=0)};W(()=>{for(let t=0,n=a(o).length;t<n;t+=1){const{line:s,opacity:l,animating:r}=a(o)[t];r&&l>0?y(o,a(o)[t].opacity-=.005):O.frequencyData.current[t]>100&&(y(o,a(o)[t].opacity=.4),y(o,a(o)[t].animating=!0)),s.material.opacity=a(o)[t].opacity}V()}),E();var M=st(),P=F(M);c.PerspectiveCamera(P,{makeDefault:!0,"position.z":20});var b=f(P,2);c.AmbientLight(b,{intensity:.6});var L=f(b,2);c.PointLight(L,{intensity:1,position:[10,10,10]});var G=f(L,2);$(G,1,()=>a(o),B,(t,n)=>{let s=()=>a(n).line,l=()=>a(n).shift,r=()=>a(n).points;c(t,{get is(){return s()},oncreate:e=>{e.position.copy(l()),e.geometry.setFromPoints(r())},children:(e,w)=>{var m=nt(),u=F(m);c(u,{is:ot});var H=f(u,2),Q=Y(()=>tt(I,.0025));c(H,{is:et,transparent:!0,get color(){return a(Q)}}),C(e,m)},$$slots:{default:!0}})}),C(q,M),U()}const vt=Object.freeze(Object.defineProperty({__proto__:null,default:rt},Symbol.toStringTag,{value:"Module"}));export{rt as _,vt as a};
