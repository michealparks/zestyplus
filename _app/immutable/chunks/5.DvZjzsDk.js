import"./disclose-version.Bg9kRutz.js";import{p as A,b as $,f as z,a as T,s as u}from"./index-client.CAJtLLOW.js";import{a as j,t as k}from"./template.CuXd8n4y.js";import{c as d}from"./svelte-component.DNJIJZlw.js";import{u as C,a8 as D,a$ as P,I as q,h as B,d as m,V as _,a3 as G,Q as I}from"./T.Dho_lh33.js";import{a as L}from"./auth.svelte.DwNCDtT_.js";import"./index.BGgIaGRE.js";import{R as O}from"./RoundedBoxGeometry.DWcPsOGl.js";import"./legacy.CtaTdtmd.js";var Q=k("<!> <!> <!> <!>",1);function R(w,b){A(b,!0);const{camera:p}=C(),n=1e3;new D;const g=new P,a=new q(void 0,g,n);a.name="cubes",a.frustumCulled=!1,a.castShadow=!0,a.receiveShadow=!0;const o=new _,i=new I,c=new _(1,1,1),r=new G,{frequencyData:v}=L();let l=n-1;$(()=>{for(let t=0;t<n;t+=1){const e=(Math.random()-.5)*5,s=e>0?2:-2,y=(Math.random()-.5)*10;o.set(e*2+s,y,-t/2),i.random(),r.compose(o,i,c),a.setMatrixAt(t,r)}a.instanceMatrix.needsUpdate=!0}),B(t=>{p.current.position.z-=t*20;for(let e=0;e<n;e+=1){a.getMatrixAt(e,r),r.decompose(o,i,c);const s=v.current[e%32];c.setScalar(Math.max(s/100,.5)),o.z>p.current.position.z&&(o.z=-l/2,l+=1),r.compose(o,i,c),a.setMatrixAt(e,r)}a.instanceMatrix.needsUpdate=!0});var f=Q(),h=z(f);d(h,()=>m.PerspectiveCamera,(t,e)=>{e(t,{makeDefault:!0,position:[0,.5,5],oncreate:s=>s.lookAt(0,0,.1)})});var x=u(h,2);d(x,()=>m.DirectionalLight,(t,e)=>{e(t,{castShadow:!0})});var M=u(x,2);d(M,()=>m.AmbientLight,(t,e)=>{e(t,{})});var S=u(M,2);m(S,{is:a,children:(t,e)=>{O(t,{})},$$slots:{default:!0}}),j(w,f),T()}const X=Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"}));export{R as _,X as a};
