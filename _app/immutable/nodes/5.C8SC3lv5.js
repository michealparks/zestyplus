import{b as u,t as v}from"../chunks/disclose-version.CY5IDNoG.js";import"../chunks/legacy.PQa5ncrZ.js";import{p as U,v as G,w as a,x as h,y as f,t as L,z as s,A as Q}from"../chunks/runtime.XPaRurxh.js";import{i as V}from"../chunks/lifecycle.CxaT9aiB.js";import{s as B,a as H}from"../chunks/props.Dz65N0hT.js";import{u as j,C as E,V as S,I as F,a as J,T as o,M as K,Q as N}from"../chunks/T.y93Wq12a.js";import"../chunks/index.Cv2FY5Xh.js";import{O as R}from"../chunks/Outlines.F55l66q_.js";import{u as W}from"../chunks/auth.svelte.CNkesG8U.js";import{h as X}from"../chunks/color.D7bleQK4.js";var Y=v("<!> <!>",1),Z=v("<!> <!> <!>",1),tt=v("<!> <!> <!> <!> <!>",1);function lt(b,z){U(z,!1);const A=B(),C=()=>H(k,"$size",A),{size:k}=j(),{frequencyData:P}=W(),d=72,_=1,q=d*_/2,D=new E("red"),n=new S,g=new N,l=new S(1,1,1),i=new K,e=G(new F(void 0,void 0,d));for(let t=0;t<d;t+=1)n.set(0,0,t*_-q),i.setPosition(n),a(e).setMatrixAt(t,i),a(e).setColorAt(t,X(D,t/1e4));h(e,a(e).instanceMatrix.needsUpdate=!0),a(e).instanceColor&&h(e,a(e).instanceColor.needsUpdate=!0),J(()=>{for(let t=0,p=d;t<p;t+=1){const r=P.current[t];r&&(a(e).getMatrixAt(t,i),i.decompose(n,g,l),n.y=r/75,l.set(1,n.y*4+1,1),i.compose(n,g,l),a(e).setMatrixAt(t,i))}h(e,a(e).instanceMatrix.needsUpdate=!0)}),V();var w=tt(),M=f(w),I=Q(()=>C().width/50);o.OrthographicCamera(M,{makeDefault:!0,position:[-28,60,65],get zoom(){return a(I)},oncreate:t=>t.lookAt(0,0,0)});var $=s(M,2);o.AmbientLight($,{intensity:.5});var x=s($,2);o.DirectionalLight(x,{castShadow:!0,"shadow.camera.left":-15,"shadow.camera.right":15,"shadow.camera.top":15,"shadow.camera.bottom":-15,"shadow.mapSize.width":2048,"shadow.mapSize.height":2048,intensity:3,position:[10,10,10]});var y=s(x,2);o.Mesh(y,{"rotation.x":-Math.PI/2,"position.y":-.02,receiveShadow:!0,children:(t,p)=>{var r=Y(),c=f(r);o.PlaneGeometry(c,{args:[100,100]});var m=s(c,2);o.MeshStandardMaterial(m,{color:"black"}),u(t,r)},$$slots:{default:!0}});var O=s(y,2);o(O,{get is(){return a(e)},castShadow:!0,receiveShadow:!0,children:(t,p)=>{var r=Z(),c=f(r);o.BoxGeometry(c,{args:[.5,.5,.5]});var m=s(c,2);o.MeshStandardMaterial(m,{});var T=s(m,2);R(T,{color:"black"}),u(t,r)},$$slots:{default:!0}}),u(b,w),L()}export{lt as component};
