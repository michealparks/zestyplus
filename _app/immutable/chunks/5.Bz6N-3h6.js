import{b as u,t as _}from"./disclose-version.DxMWfzFv.js";import"./legacy.DWt5lqJy.js";import{w as I,aP as U,Q as a,aQ as f,a6 as h,y as j,a7 as s,aB as B}from"./runtime.TNfRlsGO.js";import{i as G}from"./lifecycle.Qs07Rp4g.js";import{b as L,c as V}from"./props.J8c_Vd-h.js";import{C as H,I as J,V as x,J as E,Q as F}from"./three.module.iKKkBh6O.js";import{a as K,u as N,T as o}from"./T.5NVhIH70.js";import"./index.DSYcLGFw.js";import{O as R}from"./Outlines.Bqoy57HY.js";import{a as W}from"./auth.svelte.VYk90IdW.js";import{h as X}from"./color.D7bleQK4.js";var Y=_("<!> <!>",1),Z=_("<!> <!> <!>",1),ee=_("<!> <!> <!> <!> <!>",1);function te(S,z){I(z,!1);const A=L(),P=()=>V(C,"$size",A),{size:C}=K(),{frequencyData:k}=W(),d=72,g=1,O=d*g/2,Q=new H("red"),n=new x,v=new F,l=new x(1,1,1),i=new E,t=U(new J(void 0,void 0,d));for(let e=0;e<d;e+=1)n.set(0,0,e*g-O),i.setPosition(n),a(t).setMatrixAt(e,i),a(t).setColorAt(e,X(Q,e/1e4));f(t,a(t).instanceMatrix.needsUpdate=!0),a(t).instanceColor&&f(t,a(t).instanceColor.needsUpdate=!0),N(()=>{for(let e=0,p=d;e<p;e+=1){const r=k.current[e];r&&(a(t).getMatrixAt(e,i),i.decompose(n,v,l),n.y=r/75,l.set(1,n.y*4+1,1),i.compose(n,v,l),a(t).setMatrixAt(e,i))}f(t,a(t).instanceMatrix.needsUpdate=!0)}),G();var w=ee(),M=h(w),T=B(()=>P().width/50);o.OrthographicCamera(M,{makeDefault:!0,position:[-28,60,65],get zoom(){return a(T)},oncreate:e=>e.lookAt(0,0,0)});var $=s(M,2);o.AmbientLight($,{intensity:.5});var b=s($,2);o.DirectionalLight(b,{castShadow:!0,"shadow.camera.left":-15,"shadow.camera.right":15,"shadow.camera.top":15,"shadow.camera.bottom":-15,"shadow.mapSize.width":2048,"shadow.mapSize.height":2048,intensity:3,position:[10,10,10]});var y=s(b,2);o.Mesh(y,{"rotation.x":-Math.PI/2,"position.y":-.02,receiveShadow:!0,children:(e,p)=>{var r=Y(),c=h(r);o.PlaneGeometry(c,{args:[100,100]});var m=s(c,2);o.MeshStandardMaterial(m,{color:"black"}),u(e,r)},$$slots:{default:!0}});var q=s(y,2);o(q,{get is(){return a(t)},children:(e,p)=>{var r=Z(),c=h(r);o.BoxGeometry(c,{args:[.5,.5,.5]});var m=s(c,2);o.MeshStandardMaterial(m,{});var D=s(m,2);R(D,{color:"black"}),u(e,r)},$$slots:{default:!0}}),u(S,w),j()}const ue=Object.freeze(Object.defineProperty({__proto__:null,default:te},Symbol.toStringTag,{value:"Module"}));export{te as _,ue as a};
