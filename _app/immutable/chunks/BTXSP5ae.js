import"./DsnmJJEf.js";import{Z as G,a5 as N,$ as T,a0 as b,a1 as A,a2 as R,a3 as f,a4 as U,g as r,_ as X}from"./Dj-DrZoY.js";import{e as Y}from"./oo0O6sVj.js";import{c as y}from"./DY0mOCK0.js";import{L as B}from"./D9zL6aDT.js";import{L as E,a as J}from"./BClGddZp.js";import{g0 as K,A as i,a as Q,V as C,fZ as W,f_ as c,du as tt}from"./C4vSLsTb.js";import{a as ot}from"./CtZujQWG.js";import{h as at}from"./D7bleQK4.js";var et=T("<!> <!>",1),nt=T("<!> <!> <!> <!>",1);function st(k,z){G(z,!0);const{camera:_}=K(),$=200,e=[],d=1,j=i.randInt(2,3),v=i.randFloat(5,6),h=i.randFloat(2,10),q=i.randFloat(2,3),x=i.randFloat(2,3),H=i.randFloat(.5,2),M=2e3;let g=N(new Q("red").setHSL(Math.random(),.8,.5));for(let o=0;o<$;o+=1){const t=new C(Math.random()*d,Math.random()*d,Math.random()*d),n=[];for(let s=0;s<M;s+=1){const a=s/M*Math.PI*2*j,S=Math.sin(a*q)*(v+h*Math.sin(a)),m=Math.cos(a*x)*(v+h*Math.cos(a)),u=h*Math.sin(a*H);n.push(new C(S,m,u))}const l=new E;e.push({line:l,points:n,shift:t,opacity:0,animating:!1})}const I=ot();let p=0;const O=()=>{const t=new tt(e.at(0)?.points).getPointAt(p);_.current.position.copy(t),_.current.lookAt(0,0,0),p+=1e-4,p>1&&(p=0)};W(()=>{let o=0;for(let t=0,n=e.length;t<n;t+=1){const{line:l,opacity:s,animating:a}=e[t];a&&s>0?e[t].opacity-=.005:I.spectrum01[t%128]>.2&&(e[t].opacity=.4,e[t].animating=!0,o+=1),l.material.opacity=e[t].opacity}o>=10&&(console.log("here"),U(g,r(g).setHSL(Math.random(),.8,.5))),O()});var L=nt(),P=b(L);y(P,()=>c.PerspectiveCamera,(o,t)=>{t(o,{makeDefault:!0,"position.z":20})});var w=f(P,2);y(w,()=>c.AmbientLight,(o,t)=>{t(o,{intensity:.6})});var F=f(w,2);y(F,()=>c.PointLight,(o,t)=>{t(o,{intensity:1,position:[10,10,10]})});var V=f(F,2);Y(V,17,()=>e,({line:o,shift:t,points:n})=>o.uuid,(o,t)=>{let n=()=>r(t).line,l=()=>r(t).shift,s=()=>r(t).points;c(o,{get is(){return n()},oncreate:a=>{a.position.copy(l()),a.geometry.setFromPoints(s())},children:(a,S)=>{var m=et(),u=b(m);c(u,{get is(){return J}});var Z=f(u,2);{let D=X(()=>at(r(g),.01));c(Z,{get is(){return B},transparent:!0,get color(){return r(D)}})}A(a,m)},$$slots:{default:!0}})}),A(k,L),R()}const ht=Object.freeze(Object.defineProperty({__proto__:null,default:st},Symbol.toStringTag,{value:"Module"}));export{st as _,ht as a};
