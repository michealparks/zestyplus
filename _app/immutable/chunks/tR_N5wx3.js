import"./DsnmJJEf.js";import{a3 as E,d as P,a7 as x,a8 as v,aa as c,a9 as M,a5 as F,i as I,a6 as Q}from"./Wk8iZnnz.js";import{c as l}from"./BXm_g8N-.js";import{fZ as Z,e1 as H,ed as T,V as k,M as J,a as K,bg as N,aV as R,f_ as W,f$ as o,aj as X}from"./CtU81MLD.js";import{u as Y}from"./CXVFCYzG.js";import{h as B}from"./D7bleQK4.js";import{L as ee}from"./D_MYTof8.js";var te=x("<!> <!>",1),ae=x("<!> <!>",1),re=x("<!> <!> <!> <!> <!> <!>",1);function oe(G,V){E(V,!0);const{camera:w,scene:h}=Z();P(()=>(h.fog=new H("#000",2,30),()=>h.fog=null));const f=1e3,e=new T(void 0,void 0,f);e.name="cubes",e.frustumCulled=!1,e.castShadow=e.receiveShadow=!0;const m=new T(void 0,void 0,f);m.frustumCulled=!1;const u=new k,p=new N,g=new k(1,1,1),s=new J,D=Y();let C=f-1;const $="#C84C09",y=new K($);P(()=>{for(let t=0;t<f;t+=1){const a=(Math.random()-.5)*5,r=a>0?2:-2,n=(Math.random()-.5)*10;u.set(a*2+r,n,-t/2),p.random(),s.compose(u,p,g),e.setMatrixAt(t,s),e.setColorAt(t,B(y,0)),m.setMatrixAt(t,s)}e.instanceColor&&(e.instanceColor.needsUpdate=!0),e.instanceMatrix.needsUpdate=!0});const A=new R;h.add(A.target),W(t=>{w.current.position.z-=t*12;for(let a=0;a<f;a+=1){e.getMatrixAt(a,s),s.decompose(u,p,g);const r=D.log01[a%128];g.setScalar(Math.max(r*4,.5)),e.setColorAt(a,B(y.set($),r)),u.z>w.current.position.z&&(u.z=-C/2,C+=1),s.compose(u,p,g),e.setMatrixAt(a,s),m.setMatrixAt(a,s)}e.instanceColor&&(e.instanceColor.needsUpdate=!0),e.instanceMatrix.needsUpdate=!0,m.instanceMatrix.needsUpdate=!0});var b=re(),S=v(b);l(S,()=>o.PerspectiveCamera,(t,a)=>{a(t,{makeDefault:!0,position:[0,.5,5],oncreate:r=>r.lookAt(0,0,.1)})});var z=c(S,2);o(z,{get is(){return A},castShadow:!0,"position.x":2,"position.y":2,intensity:.5});var U=c(z,2);l(U,()=>o.AmbientLight,(t,a)=>{a(t,{intensity:.5})});var j=c(U,2);o(j,{get is(){return e},children:(t,a)=>{var r=te(),n=v(r);l(n,()=>o.BoxGeometry,(i,d)=>{d(i,{})});var _=c(n,2);l(_,()=>o.MeshStandardMaterial,(i,d)=>{d(i,{roughness:.05})}),M(t,r)},$$slots:{default:!0}});var L=c(j,2);o(L,{get is(){return m},children:(t,a)=>{var r=ae(),n=v(r);{let i=Q(()=>[new X,1]);l(n,()=>o.EdgesGeometry,(d,q)=>{q(d,{get args(){return I(i)}})})}var _=c(n,2);l(_,()=>o.MeshBasicMaterial,(i,d)=>{d(i,{wireframe:!0})}),M(t,r)},$$slots:{default:!0}});var O=c(L,2);ee(O,{}),M(G,b),F()}const fe=Object.freeze(Object.defineProperty({__proto__:null,default:oe},Symbol.toStringTag,{value:"Module"}));export{oe as _,fe as a};
