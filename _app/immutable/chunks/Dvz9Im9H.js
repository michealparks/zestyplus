import"./DsnmJJEf.js";import"./DgaIWUFU.js";import{Z as j,I as q,h as a,as as u,$ as _,a0 as h,x as D,a3 as i,a1 as f,a2 as G}from"./E4cMcrld.js";import{i as L}from"./DylRLk4Q.js";import{b as V,s as Z}from"./DdtPJMXq.js";import{g0 as B,a as H,V as S,M as Q,ed as E,fZ as F,f_ as o,bg as J}from"./CpNDQYbB.js";import{a as K}from"./CiTjjYL-.js";import{h as N}from"./D7bleQK4.js";var R=_("<!> <!>",1),W=_("<!> <!>",1),X=_("<!> <!> <!> <!> <!>",1);function Y(z,A){j(A,!1);const P=()=>Z(T,"$size",C),[C,k]=V(),{size:T}=B(),g=K(),c=128,v=1,I=c*v/2,O=new H("red"),r=new S,w=new J,m=new S(1,1,1),n=new Q,t=q(new E(void 0,void 0,c));for(let e=0;e<c;e+=1)r.set(0,0,e*v-I),n.setPosition(r),a(t).setMatrixAt(e,n),a(t).setColorAt(e,N(O,e/1e4));u(t,a(t).instanceMatrix.needsUpdate=!0),a(t).instanceColor&&u(t,a(t).instanceColor.needsUpdate=!0),F(()=>{console.log(c,g.spectrum01.length);for(let e=0,d=c;e<d;e+=1){const s=g.spectrum01[e];s&&(a(t).getMatrixAt(e,n),n.decompose(r,w,m),r.y=s*20,m.set(1,r.y*4+1,1),n.compose(r,w,m),a(t).setMatrixAt(e,n))}u(t,a(t).instanceMatrix.needsUpdate=!0)}),L();var $=X(),M=h($);{let e=D(()=>P().width/300);o.OrthographicCamera(M,{makeDefault:!0,position:[-20,20,20],get zoom(){return a(e)},oncreate:d=>d.lookAt(0,0,0),near:-200,far:200})}var b=i(M,2);o.AmbientLight(b,{intensity:.5});var x=i(b,2);o.DirectionalLight(x,{castShadow:!0,"shadow.camera.left":-30,"shadow.camera.right":30,"shadow.camera.top":30,"shadow.camera.bottom":-30,"shadow.mapSize.width":4096,"shadow.mapSize.height":4096,intensity:3,position:[10,10,10]});var y=i(x,2);o.Mesh(y,{"rotation.x":-Math.PI/2,"position.y":-.02,receiveShadow:!0,children:(e,d)=>{var s=R(),l=h(s);o.PlaneGeometry(l,{args:[500,500]});var p=i(l,2);o.MeshStandardMaterial(p,{color:"black"}),f(e,s)},$$slots:{default:!0}});var U=i(y,2);o(U,{get is(){return a(t)},castShadow:!0,receiveShadow:!0,children:(e,d)=>{var s=W(),l=h(s);o.BoxGeometry(l,{args:[.5,.5,.5]});var p=i(l,2);o.MeshStandardMaterial(p,{}),f(e,s)},$$slots:{default:!0}}),f(z,$),G(),k()}const ce=Object.freeze(Object.defineProperty({__proto__:null,default:Y},Symbol.toStringTag,{value:"Module"}));export{Y as _,ce as a};
