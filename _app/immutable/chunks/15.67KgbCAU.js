import"./disclose-version.Bg9kRutz.js";import{p as E,ab as W,f as B,a as I,s}from"./index-client.jNqP-yUK.js";import{a as S,t as P}from"./template.dxe18lOp.js";import{c as v}from"./svelte-component.D4HszQ7S.js";import{p as q,a as j,s as F,r as J}from"./props.6OPtkU23.js";import{b1 as Q,q as U,h as z,d,B as k}from"./T.Hd49IpQl.js";import R from"./Rope.CKSVACyw.js";import"./index.bsilHA1h.js";import{O as V}from"./OrbitControls.IEQpOwPq.js";import"./legacy.CtaTdtmd.js";import D from"./Skin.UIL6OG1Y.js";import{W as X}from"./World.CTeB4blo.js";import{c as Y}from"./createCollidersFromChildren.xpEde08U.js";import{C as Z}from"./Collider.BireoknS.js";var tt=P("<!> <!>",1);function et(b,m){E(m,!0);let i=q(m,"ref",27,()=>j(new Q)),f=J(m,["$$slots","$$events","$$legacy","ref"]);const{world:c,debug:p}=Y(),l=new U;p.set(!0),z(()=>{const a=c.debugRender(),e=new k(a.vertices,3),r=new k(a.colors,4);l.setAttribute("position",e),l.setAttribute("color",r)}),W(()=>{p.set(!1)}),d(b,F({get is(){return i()},frustumCulled:!1,renderOrder:1/0},()=>f,{children:(a,e)=>{var r=tt(),n=B(r);d(n,{is:l});var _=s(n,2);v(_,()=>d.LineBasicMaterial,(h,y)=>{y(h,{vertexColors:!0})}),S(a,r)},$$slots:{default:!0}})),I()}var rt=P("<!> <!> <!> <!> <!> <!> <!>",1),ot=P("<!> <!> <!> <!>",1);function st(b,m){E(m,!0);let i=20,f=5,c=2,p=j([0,4,1]),l,a,e,r,n,_,h;setInterval(()=>{Math.random()>.2&&(e==null||e.applyImpulse({x:(Math.random()-.5)*.1,y:.1,z:(Math.random()-.5)*.1},!0))},100),z(()=>{if(e===void 0)return;const o=e.translation();r==null||r.setNextKinematicTranslation(o),n==null||n.setNextKinematicTranslation(o)});var y=ot(),x=B(y);v(x,()=>d.AmbientLight,(o,g)=>{g(o,{})});var A=s(x,2);v(A,()=>d.DirectionalLight,(o,g)=>{g(o,{position:[10,10,10]})});var C=s(A,2);v(C,()=>d.PerspectiveCamera,(o,g)=>{g(o,{makeDefault:!0,position:[0,0,20],oncreate:u=>u.lookAt(0,0,0),children:(u,$)=>{V(u,{})},$$slots:{default:!0}})});var G=s(C,2);X(G,{gravity:[0,-1,0],children:(o,g)=>{var u=rt(),$=B(u);et($,{});var w=s($,2);R(w,{ballRadius:.1,ropeStart:[0,0,0],get ropeEnd(){return p},length:f,segments:i,damping:c,get positions(){return l},set positions(t){l=t},get lastRigidBody(){return e},set lastRigidBody(t){e=t}});var L=s(w,2);D(L,{radius:.3,segments:i,heightSegments:i*10,segmentHeight:f/i,positions:l});var M=s(L,2);R(M,{ballRadius:.1,ropeStart:[0,0,0],get ropeEnd(){return p},length:3,segments:8,damping:c,get positions(){return a},set positions(t){a=t},get startRigidBody(){return r},set startRigidBody(t){r=t},get lastRigidBody(){return _},set lastRigidBody(t){_=t}});var O=s(M,2);D(O,{radius:.3,segments:8,heightSegments:8*10,segmentHeight:f/i,positions:a});var T=s(O,2);R(T,{ballRadius:.1,ropeStart:[0,0,0],get ropeEnd(){return p},length:3,segments:8,damping:c,get startRigidBody(){return n},set startRigidBody(t){n=t},get lastRigidBody(){return h},set lastRigidBody(t){h=t}});var H=s(T,2);v(H,()=>d.Group,(t,K)=>{K(t,{position:[0,-2,0],children:(N,at)=>{Z(N,{type:"static",shape:"cuboid",args:[10,2,10]})},$$slots:{default:!0}})}),S(o,u)},$$slots:{default:!0}}),S(b,y),I()}const bt=Object.freeze(Object.defineProperty({__proto__:null,default:st},Symbol.toStringTag,{value:"Module"}));export{st as _,bt as a};
