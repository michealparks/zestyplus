import"./disclose-version.Bg9kRutz.js";import{p as v,f as B,a as H,s as x}from"./index-client.DDUn5bf5.js";import{a as A,t as M}from"./template.DXGbSFUO.js";import{c as _}from"./svelte-component.BQYC_p_3.js";import{S as I,a as W,b as D,V as F,U as T,F as U,u as V,T as f,d as w,D as j}from"./T.6-q_PtqM.js";const C=(m,t,d)=>{const o=[];let n=new w;o.push(n),n.position.y=-m;for(let a=0;a<t;a++){const s=new w;s.position.y=d,o.push(s),n.add(s),n=s}return o};var G=M("<!> <!>",1);function K(m,t){v(t,!0);const d=t.segmentHeight*t.segments,o=d*.5,n=C(o,t.segments,t.segmentHeight),a=new I,s=new W(n);a.add(n[0]),a.bind(s);const h=new D(t.radius,t.radius,d,t.radialSegments,t.heightSegments,!0),g=[],l=[],{position:b}=h.attributes,k=new F;for(let e=0,r;e<b.count;e++){k.fromBufferAttribute(b,e);const i=k.y+o,u=Math.floor(i/t.segmentHeight),c=i%t.segmentHeight/t.segmentHeight;g.push(u,u+1,0,0),l.push(1-c,c,0,0)}h.setAttribute("skinIndex",new T(g,4)),h.setAttribute("skinWeight",new U(l,4)),V(()=>{if(t.positions!==void 0)for(let e=0,r=0,i=n.length;e<i;e+=1,r+=3)s.bones[e].position.set(t.positions[r+0],t.positions[r+1],t.positions[r+2]),s.bones[e].rotation.x=.2}),f(m,{is:a,children:(e,r)=>{var i=G(),u=B(i);f(u,{is:h});var c=x(u,2);_(c,()=>f.MeshStandardMaterial,(S,y)=>{y(S,{side:j})}),A(e,i)},$$slots:{default:!0}}),H()}export{K as default};
