import"./disclose-version.Bg9kRutz.js";import{p as A,d as z,f as $,a as T,s as u}from"./index-client.D_7LkImg.js";import{a as j,t as k}from"./template.AcjnxTEE.js";import{c as d}from"./svelte-component.ClNcW8Uq.js";import{u as C,a1 as D,aI as I,I as P,e as q,T as m,V as _,X as B,Q as G}from"./T.po24HVTg.js";import{a as L}from"./auth.svelte.BGMa6fhg.js";import"./index.TNnlVa_5.js";import{R as O}from"./RoundedBoxGeometry.CbXKmbir.js";import"./legacy.CtaTdtmd.js";var Q=k("<!> <!> <!> <!>",1);function R(w,g){A(g,!0);const{camera:p}=C(),n=1e3;new D;const v=new I,a=new P(void 0,v,n);a.name="cubes",a.frustumCulled=!1,a.castShadow=!0,a.receiveShadow=!0;const o=new _,i=new G,c=new _(1,1,1),r=new B,{frequencyData:b}=L();let l=n-1;z(()=>{for(let t=0;t<n;t+=1){const e=(Math.random()-.5)*5,s=e>0?2:-2,y=(Math.random()-.5)*10;o.set(e*2+s,y,-t/2),i.random(),r.compose(o,i,c),a.setMatrixAt(t,r)}a.instanceMatrix.needsUpdate=!0}),q(t=>{p.current.position.z-=t*20;for(let e=0;e<n;e+=1){a.getMatrixAt(e,r),r.decompose(o,i,c);const s=b.current[e%32];c.setScalar(Math.max(s/100,.5)),o.z>p.current.position.z&&(o.z=-l/2,l+=1),r.compose(o,i,c),a.setMatrixAt(e,r)}a.instanceMatrix.needsUpdate=!0});var f=Q(),h=$(f);d(h,()=>m.PerspectiveCamera,(t,e)=>{e(t,{makeDefault:!0,position:[0,.5,5],oncreate:s=>s.lookAt(0,0,.1)})});var x=u(h,2);d(x,()=>m.DirectionalLight,(t,e)=>{e(t,{castShadow:!0})});var M=u(x,2);d(M,()=>m.AmbientLight,(t,e)=>{e(t,{})});var S=u(M,2);m(S,{is:a,children:(t,e)=>{O(t,{})},$$slots:{default:!0}}),j(w,f),T()}const W=Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"}));export{R as _,W as a};
