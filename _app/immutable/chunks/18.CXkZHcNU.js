import{b as L,t as C}from"./disclose-version.n6tle2S8.js";import{B as G,a8 as x,D as H,a9 as o,T as e,ab as p,aa as m}from"./runtime.D2gsQGmM.js";import{c as b}from"./svelte-component.BpbQeOAZ.js";import{p as J,a as n,s as Q,r as U}from"./props.TOh5px3p.js";import{u as K,T as f}from"./T.CjKvhq6h.js";import P from"./Rope.BJB7iv9j.js";import"./index.APQ6yQwS.js";import{O as V}from"./OrbitControls.DeejCEcE.js";import"./legacy.CeuyfEhk.js";import j from"./Skin.2vIGyA8y.js";import{W as X}from"./World.BRGscm-e.js";import{c as Y}from"./createCollidersFromChildren.Bf5J2899.js";import{a as Z}from"./index-client.CGW19OF7.js";import{aP as tt,p as et,B as z}from"./three.module.iKKkBh6O.js";import{C as rt}from"./Collider.CPfUGN8J.js";var ot=C("<!> <!>",1);function st(A,y){G(y,!0);let g=J(y,"ref",27,()=>n(new tt)),_=U(y,["$$slots","$$events","$$legacy","ref"]);const{world:h,debug:c}=Y(),u=new et;c.set(!0),K(()=>{const a=h.debugRender(),d=new z(a.vertices,3),l=new z(a.colors,4);u.setAttribute("position",d),u.setAttribute("color",l)}),Z(()=>{c.set(!1)}),f(A,Q({get is(){return g()},frustumCulled:!1,renderOrder:1/0},()=>_,{children:(a,d)=>{var l=ot(),v=x(l);f(v,{is:u});var R=o(v,2);b(R,()=>f.LineBasicMaterial,($,B)=>{B($,{vertexColors:!0})}),L(a,l)},$$slots:{default:!0}})),H()}var it=C("<!> <!> <!> <!> <!> <!> <!>",1),nt=C("<!> <!> <!> <!>",1);function at(A,y){G(y,!0);let g=20,_=5,h=2,c=n([0,4,1]),u=m(void 0),a=m(void 0),d=m(void 0),l=m(void 0),v=m(void 0),R=m(void 0),$=m(void 0);setInterval(()=>{var r;Math.random()>.2&&((r=e(d))==null||r.applyImpulse({x:(Math.random()-.5)*.1,y:.1,z:(Math.random()-.5)*.1},!0))},100),K(()=>{var s,i;if(e(d)===void 0)return;const r=e(d).translation();(s=e(l))==null||s.setNextKinematicTranslation(r),(i=e(v))==null||i.setNextKinematicTranslation(r)});var B=nt(),T=x(B);b(T,()=>f.AmbientLight,(r,s)=>{s(r,{})});var w=o(T,2);b(w,()=>f.DirectionalLight,(r,s)=>{s(r,{position:[10,10,10]})});var D=o(w,2);b(D,()=>f.PerspectiveCamera,(r,s)=>{s(r,{makeDefault:!0,position:[0,0,20],oncreate:i=>i.lookAt(0,0,0),children:(i,S)=>{V(i,{})},$$slots:{default:!0}})});var N=o(D,2);X(N,{gravity:[0,-1,0],children:(r,s)=>{var i=it(),S=x(i);st(S,{});var M=o(S,2);P(M,{ballRadius:.1,ropeStart:[0,0,0],get ropeEnd(){return c},length:_,segments:g,damping:h,get positions(){return e(u)},set positions(t){p(u,n(t))},get lastRigidBody(){return e(d)},set lastRigidBody(t){p(d,n(t))}});var O=o(M,2);j(O,{radius:.3,segments:g,heightSegments:g*10,segmentHeight:_/g,get positions(){return e(u)}});var k=o(O,2);P(k,{ballRadius:.1,ropeStart:[0,0,0],get ropeEnd(){return c},length:3,segments:8,damping:h,get positions(){return e(a)},set positions(t){p(a,n(t))},get startRigidBody(){return e(l)},set startRigidBody(t){p(l,n(t))},get lastRigidBody(){return e(R)},set lastRigidBody(t){p(R,n(t))}});var E=o(k,2);j(E,{radius:.3,segments:8,heightSegments:8*10,segmentHeight:_/g,get positions(){return e(a)}});var I=o(E,2);P(I,{ballRadius:.1,ropeStart:[0,0,0],get ropeEnd(){return c},length:3,segments:8,damping:h,get startRigidBody(){return e(v)},set startRigidBody(t){p(v,n(t))},get lastRigidBody(){return e($)},set lastRigidBody(t){p($,n(t))}});var W=o(I,2);b(W,()=>f.Group,(t,q)=>{q(t,{position:[0,-2,0],children:(F,dt)=>{rt(F,{type:"static",shape:"cuboid",args:[10,2,10]})},$$slots:{default:!0}})}),L(r,i)},$$slots:{default:!0}}),L(A,B),H()}const At=Object.freeze(Object.defineProperty({__proto__:null,default:at},Symbol.toStringTag,{value:"Module"}));export{at as _,At as a};
