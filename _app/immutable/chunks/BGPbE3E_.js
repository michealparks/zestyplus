import{l as w,b as l,a1 as r,a2 as m,f as t,s as f}from"./DGLrSMKY.js";const p=o=>{const i=Math.floor(o/1e3),a=Math.floor(i/60).toString(),e=(i%60).toString().padStart(2,"0");return`${a}:${e}`},g=Symbol("countdown-context"),D=()=>{let o=m(-1),i=m(0),a=m(""),e=m("idle");const u=()=>{const n=new Date().getTime();r(i,t(o)-n),r(a,p(t(i)),!0),n<=t(o)?requestAnimationFrame(u):r(e,"celebrating")},c=()=>{r(e,"counting"),requestAnimationFrame(u)};l(()=>{const s=new Date(new Date().getFullYear()+1,0,1,0,0,0);r(o,s.getTime(),!0);const n=new Date(s.getTime()-30*6e4);if(Date.now()>=n.getTime())return c(),()=>null;const T=n.getTime()-Date.now(),d=setTimeout(c,T);return()=>clearTimeout(d)}),l(()=>{if(t(e)==="celebrating"){const n=setTimeout(()=>{setTimeout(()=>{r(e,"idle")},6e4)},6e4);return()=>{clearTimeout(n)}}}),f(g,{get targetTime(){return t(o)},get remaining(){return t(i)},get displayTime(){return t(a)},get displayState(){return t(e)}})},S=()=>w(g);export{D as p,S as u};
